{"version":3,"file":"index.js","sources":["../src/core/helpers/animation.ts","../src/core/helpers/focus.ts","../src/core/hooks/useClickOutside.ts","../src/core/hooks/useElementRect/useElementRect.ts","../src/core/hooks/useForwardedRef.ts","../src/core/utils/errorBoundary.tsx","../src/core/components/autocomplete/autocomplete.styles.tsx","../src/core/components/autocomplete/autocompleteOption.tsx","../src/core/components/autocomplete/autocompleteReducer.ts","../src/core/components/autocomplete/constants.ts","../src/core/components/autocomplete/autocomplete.tsx","../src/core/components/breadcrumbs/breadcrumbs.styles.ts","../src/core/components/breadcrumbs/breadcrumbs.tsx","../src/core/components/dialog/styles.ts","../src/core/components/dialog/dialogContext.ts","../src/core/components/dialog/useDialog.ts","../src/core/components/dialog/dialog.tsx","../src/core/components/dialog/dialogProvider.tsx","../src/core/components/menu/menuButton.tsx","../src/core/components/skeleton/styles.ts","../src/core/components/skeleton/skeleton.tsx","../src/core/components/skeleton/textSkeleton.tsx","../src/core/components/tab/tabPanel.tsx","../src/core/components/toast/styles.ts","../src/core/components/toast/toast.tsx","../src/core/hooks/useMounted.ts","../src/core/components/toast/toastContext.ts","../src/core/components/toast/toastLayer.tsx","../src/core/components/toast/toastState.ts","../src/core/components/toast/toastProvider.tsx","../src/core/components/toast/useToast.ts","../src/core/components/tree/helpers.ts","../src/core/components/tree/treeContext.ts","../src/core/components/tree/tree.tsx","../src/core/components/tree/style.ts","../src/core/components/tree/useTree.ts","../src/core/components/tree/treeGroup.tsx","../src/core/components/tree/treeItem.tsx"],"sourcesContent":["/**\n * @internal\n */\nexport function _raf(fn: () => void): () => void {\n  const frameId = requestAnimationFrame(fn)\n\n  return () => {\n    cancelAnimationFrame(frameId)\n  }\n}\n\n/**\n * @internal\n */\nexport function _raf2(fn: () => void): () => void {\n  let innerDispose: (() => void) | null = null\n\n  const outerDispose = _raf(() => {\n    innerDispose = _raf(fn)\n  })\n\n  return () => {\n    if (innerDispose) innerDispose()\n\n    outerDispose()\n  }\n}\n","import {\n  isHTMLAnchorElement,\n  isHTMLButtonElement,\n  isHTMLElement,\n  isHTMLInputElement,\n  isHTMLSelectElement,\n  isHTMLTextAreaElement,\n} from './element'\n\n// export const globalFocusState = {\n//   IgnoreUtilFocusChanges: false,\n// }\n\n/**\n * @internal\n */\nexport function _hasFocus(element: HTMLElement): boolean {\n  return Boolean(document.activeElement) && element.contains(document.activeElement)\n}\n\n/**\n * @internal\n */\nexport function isFocusable(element: HTMLElement): boolean {\n  if (\n    element.tabIndex > 0 ||\n    (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)\n  ) {\n    return true\n  }\n\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== 'ignore'\n  }\n\n  if (isHTMLInputElement(element)) {\n    return element.type !== 'hidden' && element.type !== 'file' && !element.disabled\n  }\n\n  if (\n    isHTMLButtonElement(element) ||\n    isHTMLSelectElement(element) ||\n    isHTMLTextAreaElement(element)\n  ) {\n    return !element.disabled\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function attemptFocus(element: HTMLElement): boolean {\n  if (!isFocusable(element)) {\n    return false\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = true\n\n  try {\n    element.focus()\n  } catch {\n    // ignore\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = false\n\n  return document.activeElement === element\n}\n\n/**\n * @internal\n */\nexport function focusFirstDescendant(element: HTMLElement): boolean {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function focusLastDescendant(element: HTMLElement): boolean {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n","import {useEffect, useRef, useState} from 'react'\n\nimport {EMPTY_ARRAY} from '../constants'\n\n/**\n * @public\n */\nexport type ClickOutsideListener = (event: MouseEvent) => void\n\n/**\n * @public\n */\nexport type ClickOutsideElements = (HTMLElement | null | (HTMLElement | null)[])[]\n\nfunction _getElements(\n  element: HTMLElement | null,\n  elementsArg: ClickOutsideElements,\n): HTMLElement[] {\n  const ret = [element]\n\n  for (const el of elementsArg) {\n    if (Array.isArray(el)) {\n      ret.push(...el)\n    } else {\n      ret.push(el)\n    }\n  }\n\n  return ret.filter(Boolean) as HTMLElement[]\n}\n\n/**\n * @public\n * @deprecated replaced by the new `useClickOutsideEvent` hook, instead of:\n * ```tsx\n * const [button, setButtonElement] = useState(null)\n * useClickOutside((event) => {}, [button])\n * return <button ref={setButtonElement} />\n * ```\n * do:\n * ```tsx\n * const buttonRef = useRef()\n * useClickOutsideEvent((event) => {}, () => [buttonRef.current])\n * return <button ref={buttonRef} />\n * ```\n */\nexport function useClickOutside(\n  listener: ClickOutsideListener,\n  elementsArg: ClickOutsideElements = EMPTY_ARRAY,\n  boundaryElement?: HTMLElement | null,\n): (el: HTMLElement | null) => void {\n  const [element, setElement] = useState<HTMLElement | null>(null)\n  const [elements, setElements] = useState(() => _getElements(element, elementsArg))\n  const elementsRef = useRef(elements)\n\n  useEffect(() => {\n    const prevElements = elementsRef.current\n    const nextElements = _getElements(element, elementsArg)\n\n    if (prevElements.length !== nextElements.length) {\n      // eslint-disable-next-line react-hooks/set-state-in-effect\n      setElements(nextElements)\n      elementsRef.current = nextElements\n\n      return\n    }\n\n    for (const el of prevElements) {\n      if (!nextElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n\n    for (const el of nextElements) {\n      if (!prevElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n  }, [element, elementsArg])\n\n  useEffect(() => {\n    if (!listener) return undefined\n\n    const handleWindowMouseDown = (evt: MouseEvent) => {\n      const target = evt.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (boundaryElement && !boundaryElement.contains(target)) {\n        return\n      }\n\n      for (const el of elements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      listener(evt)\n    }\n\n    window.addEventListener('mousedown', handleWindowMouseDown)\n\n    return () => {\n      window.removeEventListener('mousedown', handleWindowMouseDown)\n    }\n  }, [boundaryElement, listener, elements])\n\n  return setElement\n}\n","import {useElementSize} from '../useElementSize'\n\n/**\n * Subscribe to the rect of a DOM element.\n * @beta\n *\n * @deprecated Use `useElementSize` instead\n */\nexport function useElementRect(element: HTMLElement | null): DOMRectReadOnly | null {\n  const elementSize = useElementSize(element)\n\n  return elementSize?._contentRect || null\n}\n","import {useImperativeHandle, useRef} from 'react'\n\n/**\n * @beta\n * @deprecated use `useImperativeHandle` instead\n * @example\n * ```diff\n * -const ref = useForwardedRef(forwardedRef)\n * +const ref = useRef(null)\n * +useImperativeHandle(forwardedRef, () => ref.current)\n * ```\n */\nexport function useForwardedRef<T>(ref: React.ForwardedRef<T>): React.MutableRefObject<T | null> {\n  const innerRef = useRef<T | null>(null)\n\n  useImperativeHandle(ref, () => innerRef.current!)\n\n  return innerRef\n}\n","import {Component, PropsWithChildren} from 'react'\n\nimport {Code} from '../primitives/code'\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  onCatch: (params: {error: Error; info: React.ErrorInfo}) => void\n}>\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryState {\n  error: Error | null\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = {error: null}\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI.\n    return {error}\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo): void {\n    this.props.onCatch({error, info})\n  }\n\n  render(): React.ReactNode {\n    const {error} = this.state\n\n    if (error) {\n      const message = typeof error?.message === 'string' ? error.message : 'Error'\n\n      return <Code>{message}</Code>\n    }\n\n    return this.props.children\n  }\n}\n","import {SpinnerIcon} from '@sanity/icons'\nimport {keyframes, styled} from 'styled-components'\n\nimport {Box} from '../../primitives'\n\n/**\n * @internal\n */\nexport const StyledAutocomplete = styled.div`\n  line-height: 0;\n`\n\n/**\n * @internal\n */\nexport const ListBox = styled(Box)`\n  & > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\n/**\n * @internal\n */\nexport const AnimatedSpinnerIcon = styled(SpinnerIcon)`\n  animation: ${rotate} 500ms linear infinite;\n`\n","import {useCallback} from 'react'\n\nimport {_isEnterToClickElement} from '../../helpers'\n\nexport interface AutocompleteOptionProps {\n  children: React.ReactNode\n  id: string\n  onSelect: (v: string) => void\n  selected: boolean\n  value: string\n}\n\nexport function AutocompleteOption(props: AutocompleteOptionProps): React.JSX.Element {\n  const {children, id, onSelect, selected, value} = props\n\n  const handleClick = useCallback(() => {\n    // Calling the `onSelect` in a timeout is a fix to\n    // allow the `click` event to propagate in some cases\n    setTimeout(() => {\n      onSelect(value)\n    }, 0)\n  }, [onSelect, value])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLLIElement>) => {\n      if (event.key === 'Enter' && !_isEnterToClickElement(event.currentTarget)) {\n        handleClick()\n      }\n    },\n    [handleClick],\n  )\n\n  return (\n    <li\n      aria-selected={selected}\n      data-ui=\"AutocompleteOption\"\n      id={id}\n      role=\"option\"\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n    >\n      {children}\n    </li>\n  )\n}\n","import {AutocompleteMsg, AutocompleteState} from './types'\n\n/**\n * @internal\n */\nexport function autocompleteReducer(\n  state: AutocompleteState,\n  msg: AutocompleteMsg,\n): AutocompleteState {\n  if (msg.type === 'input/change') {\n    return {...state, activeValue: null, focused: true, query: msg.query}\n  }\n\n  if (msg.type === 'input/focus') {\n    return {...state, focused: true}\n  }\n\n  if (msg.type === 'root/blur') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/clear') {\n    return {...state, activeValue: null, query: null, value: null}\n  }\n\n  if (msg.type === 'root/escape') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/open') {\n    return {...state, query: state.query || msg.query}\n  }\n\n  if (msg.type === 'root/setActiveValue') {\n    return {...state, activeValue: msg.value, listFocused: msg.listFocused || state.listFocused}\n  }\n\n  if (msg.type === 'root/setListFocused') {\n    return {...state, listFocused: msg.listFocused}\n  }\n\n  if (msg.type === 'value/change') {\n    return {...state, activeValue: msg.value, query: null, value: msg.value}\n  }\n\n  return state\n}\n","import {Placement} from '../../types'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_LISTBOX_IGNORE_KEYS = [\n  'Control',\n  'Shift',\n  'Alt',\n  'Enter',\n  'Home',\n  'End',\n  'PageUp',\n  'PageDown',\n  'Meta',\n  'Tab',\n  'CapsLock',\n]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_PLACEMENT: Placement = 'bottom-start'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS: Placement[] = ['bottom-start', 'top-start']\n","import {ChevronDownIcon} from '@sanity/icons'\nimport {\n  ChangeEvent,\n  cloneElement,\n  ElementType,\n  FocusEvent,\n  forwardRef,\n  HTMLProps,\n  KeyboardEvent,\n  MouseEvent,\n  ReactNode,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useReducer,\n  useRef,\n} from 'react'\n\nimport {EMPTY_ARRAY, EMPTY_RECORD} from '../../constants'\nimport {_hasFocus, _raf, focusFirstDescendant} from '../../helpers'\nimport {useArrayProp} from '../../hooks'\nimport {\n  Box,\n  BoxProps,\n  Button,\n  Card,\n  Popover,\n  PopoverProps,\n  Stack,\n  Text,\n  TextInput,\n} from '../../primitives'\nimport {Radius} from '../../types'\nimport {AnimatedSpinnerIcon, ListBox, StyledAutocomplete} from './autocomplete.styles'\nimport {AutocompleteOption} from './autocompleteOption'\nimport {autocompleteReducer} from './autocompleteReducer'\nimport {\n  AUTOCOMPLETE_LISTBOX_IGNORE_KEYS,\n  AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS,\n  AUTOCOMPLETE_POPOVER_PLACEMENT,\n} from './constants'\nimport {AutocompleteOpenButtonProps, BaseAutocompleteOption} from './types'\n\n/**\n * @public\n */\nexport interface AutocompleteProps<Option extends BaseAutocompleteOption = BaseAutocompleteOption> {\n  border?: boolean\n  customValidity?: string\n  filterOption?: (query: string, option: Option) => boolean\n  fontSize?: number | number[]\n  icon?: ElementType | ReactNode\n  id: string\n  /** @beta */\n  listBox?: BoxProps\n  loading?: boolean\n  onChange?: (value: string) => void\n  onQueryChange?: (query: string | null) => void\n  onSelect?: (value: string) => void\n  /** @beta */\n  openButton?: boolean | AutocompleteOpenButtonProps\n  /** @beta */\n  openOnFocus?: boolean\n  /** The options to render. */\n  options?: Option[]\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'onMouseEnter' | 'onMouseLeave' | 'open'> &\n    Omit<HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'ref' | 'width'>\n  prefix?: ReactNode\n  radius?: Radius | Radius[]\n  /** @beta */\n  relatedElements?: HTMLElement[]\n  /** The callback function for rendering each option. */\n  renderOption?: (option: Option) => React.JSX.Element\n  /** @beta */\n  renderPopover?: (\n    props: {\n      content: React.JSX.Element | null\n      hidden: boolean\n      inputElement: HTMLInputElement | null\n      onMouseEnter: () => void\n      onMouseLeave: () => void\n    },\n    ref: Ref<HTMLDivElement>,\n  ) => ReactNode\n  renderValue?: (value: string, option?: Option) => string\n  suffix?: ReactNode\n  /** The current value. */\n  value?: string\n}\n\nconst DEFAULT_RENDER_VALUE = (value: string, option?: BaseAutocompleteOption) =>\n  option ? option.value : value\n\nconst DEFAULT_FILTER_OPTION = (query: string, option: BaseAutocompleteOption) =>\n  option.value.toLowerCase().indexOf(query.toLowerCase()) > -1\n\nconst InnerAutocomplete = forwardRef(function InnerAutocomplete<\n  Option extends BaseAutocompleteOption,\n>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'popover'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    >,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>,\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled,\n    filterOption: filterOptionProp,\n    fontSize = 2,\n    icon,\n    id,\n    listBox = EMPTY_RECORD,\n    loading,\n    onBlur,\n    onChange,\n    onFocus,\n    onQueryChange,\n    onSelect,\n    openButton,\n    openOnFocus,\n    options: optionsProp,\n    padding: paddingProp = 3,\n    popover = EMPTY_RECORD,\n    prefix,\n    radius = 2,\n    readOnly,\n    relatedElements,\n    renderOption: renderOptionProp,\n    renderPopover,\n    renderValue = DEFAULT_RENDER_VALUE,\n    suffix,\n    value: valueProp,\n    ...restProps\n  } = props\n\n  const [state, dispatch] = useReducer(autocompleteReducer, {\n    activeValue: valueProp || null,\n    focused: false,\n    listFocused: false,\n    query: null,\n    value: valueProp || null,\n  })\n\n  const {activeValue, focused, listFocused, query, value} = state\n\n  const defaultRenderOption = useCallback(\n    ({value}: BaseAutocompleteOption) => (\n      <Card data-as=\"button\" padding={paddingProp} radius={2} tone=\"inherit\">\n        <Text size={fontSize} textOverflow=\"ellipsis\">\n          {value}\n        </Text>\n      </Card>\n    ),\n    [fontSize, paddingProp],\n  )\n\n  const renderOption =\n    typeof renderOptionProp === 'function' ? renderOptionProp : defaultRenderOption\n\n  const filterOption =\n    typeof filterOptionProp === 'function' ? filterOptionProp : DEFAULT_FILTER_OPTION\n\n  // Element refs\n  const rootElementRef = useRef<HTMLDivElement | null>(null)\n  const resultsPopoverElementRef = useRef<HTMLDivElement | null>(null)\n  const inputElementRef = useRef<HTMLInputElement | null>(null)\n  const listBoxElementRef = useRef<HTMLDivElement | null>(null)\n\n  // Value refs\n  const listFocusedRef = useRef(false)\n  const valueRef = useRef(value)\n  const valuePropRef = useRef(valueProp)\n  const popoverMouseWithinRef = useRef(false)\n\n  // Forward ref to parent\n  useImperativeHandle<HTMLInputElement | null, HTMLInputElement | null>(\n    forwardedRef,\n    () => inputElementRef.current,\n  )\n\n  const listBoxId = `${id}-listbox`\n  const options = Array.isArray(optionsProp) ? optionsProp : EMPTY_ARRAY\n  const padding = useArrayProp(paddingProp)\n  const currentOption = useMemo(\n    () => (value !== null ? options.find((o) => o.value === value) : undefined),\n    [options, value],\n  )\n  const filteredOptions = useMemo(\n    () => options.filter((option) => (query ? filterOption(query, option) : true)),\n    [filterOption, options, query],\n  )\n  const filteredOptionsLen = filteredOptions.length\n  const activeItemId = activeValue ? `${id}-option-${activeValue}` : undefined\n  const expanded = (query !== null && loading) || (focused && query !== null)\n\n  const handleRootBlur = useCallback(\n    (event: FocusEvent<HTMLInputElement>) => {\n      setTimeout(() => {\n        // NOTE: This is a workaround for a bug that may happen in Chrome (clicking the scrollbar\n        // closes the results in certain situations):\n        // - Do not handle blur if the mouse is within the popover\n        if (popoverMouseWithinRef.current) {\n          return\n        }\n\n        const elements: HTMLElement[] = (relatedElements || []).concat(\n          rootElementRef.current ? [rootElementRef.current] : [],\n          resultsPopoverElementRef.current ? [resultsPopoverElementRef.current] : [],\n        )\n\n        let focusInside = false\n\n        if (document.activeElement) {\n          for (const e of elements) {\n            if (e === document.activeElement || e.contains(document.activeElement)) {\n              focusInside = true\n              break\n            }\n          }\n        }\n\n        if (focusInside === false) {\n          dispatch({type: 'root/blur'})\n          popoverMouseWithinRef.current = false\n          if (onQueryChange) onQueryChange(null)\n          if (onBlur) onBlur(event)\n        }\n      }, 0)\n    },\n    [onBlur, onQueryChange, relatedElements],\n  )\n\n  const handleRootFocus = useCallback((event: FocusEvent<HTMLDivElement>) => {\n    const listBoxElement = listBoxElementRef.current\n    const focusedElement = event.target instanceof HTMLElement ? event.target : null\n    const listFocused = listBoxElement?.contains(focusedElement) || false\n\n    if (listFocused !== listFocusedRef.current) {\n      listFocusedRef.current = listFocused\n\n      dispatch({type: 'root/setListFocused', listFocused})\n    }\n  }, [])\n\n  const handleOptionSelect = useCallback(\n    (v: string) => {\n      dispatch({type: 'value/change', value: v})\n\n      popoverMouseWithinRef.current = false\n\n      if (onSelect) onSelect(v)\n\n      valueRef.current = v\n\n      if (onChange) onChange(v)\n      if (onQueryChange) onQueryChange(null)\n\n      inputElementRef.current?.focus()\n    },\n    [onChange, onSelect, onQueryChange],\n  )\n\n  const handleRootKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLElement>) => {\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption = filteredOptions[(activeIndex + 1) % filteredOptionsLen]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption =\n          filteredOptions[\n            activeIndex === -1\n              ? filteredOptionsLen - 1\n              : (filteredOptionsLen + activeIndex - 1) % filteredOptionsLen\n          ]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'Escape') {\n        dispatch({type: 'root/escape'})\n        popoverMouseWithinRef.current = false\n        if (onQueryChange) onQueryChange(null)\n        inputElementRef.current?.focus()\n\n        return\n      }\n\n      const target = event.target as Node\n      const listEl = listBoxElementRef.current\n\n      if (\n        (listEl === target || listEl?.contains(target)) &&\n        !AUTOCOMPLETE_LISTBOX_IGNORE_KEYS.includes(event.key)\n      ) {\n        inputElementRef.current?.focus()\n\n        return\n      }\n    },\n    [activeValue, filteredOptions, filteredOptionsLen, onQueryChange],\n  )\n\n  const handleInputChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      const nextQuery = event.currentTarget.value\n\n      dispatch({type: 'input/change', query: nextQuery})\n\n      if (onQueryChange) onQueryChange(nextQuery)\n    },\n    [onQueryChange],\n  )\n\n  const dispatchOpen = useCallback(() => {\n    dispatch({\n      type: 'root/open',\n      query: value ? renderValue(value, currentOption) : '',\n    })\n  }, [currentOption, renderValue, value])\n\n  const handleInputFocus = useCallback(\n    (event: FocusEvent<HTMLInputElement>) => {\n      if (!focused) {\n        dispatch({type: 'input/focus'})\n\n        if (onFocus) onFocus(event)\n        if (openOnFocus) dispatchOpen()\n      }\n    },\n    [focused, onFocus, openOnFocus, dispatchOpen],\n  )\n\n  const handlePopoverMouseEnter = useCallback(() => {\n    popoverMouseWithinRef.current = true\n  }, [])\n\n  const handlePopoverMouseLeave = useCallback(() => {\n    popoverMouseWithinRef.current = false\n  }, [])\n\n  const handleClearButtonClick = useCallback(() => {\n    dispatch({type: 'root/clear'})\n    valueRef.current = ''\n    if (onChange) onChange('')\n    if (onQueryChange) onQueryChange(null)\n    inputElementRef.current?.focus()\n  }, [onChange, onQueryChange])\n\n  const handleClearButtonFocus = useCallback(() => {\n    dispatch({type: 'input/focus'})\n  }, [])\n\n  // Change the value when `value` prop changes\n  useEffect(() => {\n    // If `valueProp` changed\n    if (valueProp !== valuePropRef.current) {\n      valuePropRef.current = valueProp\n\n      if (valueProp !== undefined) {\n        dispatch({type: 'value/change', value: valueProp})\n        valueRef.current = valueProp\n      }\n\n      return\n    }\n\n    // If `valueProp` is not equal to `value`\n    if (valueProp !== valueRef.current) {\n      valueRef.current = valueProp || null\n\n      dispatch({type: 'value/change', value: valueProp || null})\n    }\n  }, [valueProp])\n\n  // Reset active item when closing\n  useEffect(() => {\n    if (!focused && valueRef.current) {\n      dispatch({type: 'root/setActiveValue', value: valueRef.current})\n    }\n  }, [focused])\n\n  // Focus the selected item\n  useEffect(() => {\n    const listElement = listBoxElementRef.current\n\n    if (!listElement) return\n\n    const activeOption = filteredOptions.find((o) => o.value === activeValue)\n\n    if (activeOption) {\n      const activeIndex = filteredOptions.indexOf(activeOption)\n      const activeItemElement = listElement.childNodes[activeIndex] as HTMLLIElement | undefined\n\n      if (activeItemElement) {\n        if (_hasFocus(activeItemElement)) {\n          // already focused\n          return\n        }\n\n        focusFirstDescendant(activeItemElement)\n      }\n    }\n  }, [activeValue, filteredOptions])\n\n  const clearButton = useMemo(() => {\n    if (!loading && !disabled && value) {\n      return {\n        'aria-label': 'Clear',\n        'onFocus': handleClearButtonFocus,\n      }\n    }\n\n    return undefined\n  }, [disabled, handleClearButtonFocus, loading, value])\n\n  const openButtonBoxPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 1\n        if (v === 2) return 1\n\n        return v - 2\n      }),\n    [padding],\n  )\n  const openButtonPadding = useMemo(() => padding.map((v) => Math.max(v - 1, 0)), [padding])\n  const openButtonProps: AutocompleteOpenButtonProps = useMemo(\n    () => (typeof openButton === 'object' ? openButton : EMPTY_RECORD),\n    [openButton],\n  )\n\n  const handleOpenClick = useCallback(\n    (event: MouseEvent<HTMLButtonElement>) => {\n      dispatchOpen()\n\n      if (openButtonProps.onClick) openButtonProps.onClick(event)\n\n      _raf(() => inputElementRef.current?.focus())\n    },\n    [openButtonProps, dispatchOpen],\n  )\n\n  const openButtonNode = useMemo(\n    () =>\n      !disabled && !readOnly && openButton ? (\n        <Box aria-hidden={expanded} padding={openButtonBoxPadding}>\n          <Button\n            aria-label=\"Open\"\n            disabled={expanded}\n            fontSize={fontSize}\n            icon={ChevronDownIcon}\n            mode=\"bleed\"\n            padding={openButtonPadding}\n            {...openButtonProps}\n            onClick={handleOpenClick}\n          />\n        </Box>\n      ) : undefined,\n    [\n      disabled,\n      expanded,\n      fontSize,\n      handleOpenClick,\n      openButton,\n      openButtonBoxPadding,\n      openButtonPadding,\n      openButtonProps,\n      readOnly,\n    ],\n  )\n\n  const inputValue = useMemo(() => {\n    if (query === null) {\n      if (value !== null) {\n        return renderValue(value, currentOption)\n      }\n\n      return ''\n    }\n\n    return query\n  }, [currentOption, query, renderValue, value])\n\n  const input = (\n    <TextInput\n      {...restProps}\n      aria-activedescendant={activeItemId}\n      aria-autocomplete=\"list\"\n      aria-expanded={expanded}\n      aria-owns={listBoxId}\n      autoCapitalize=\"off\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      border={border}\n      clearButton={clearButton}\n      customValidity={customValidity}\n      disabled={disabled}\n      fontSize={fontSize}\n      icon={icon}\n      iconRight={loading && AnimatedSpinnerIcon}\n      id={id}\n      inputMode=\"search\"\n      onChange={handleInputChange}\n      onClear={handleClearButtonClick}\n      onFocus={handleInputFocus}\n      padding={padding}\n      prefix={prefix}\n      radius={radius}\n      readOnly={readOnly}\n      ref={inputElementRef}\n      role=\"combobox\"\n      spellCheck={false}\n      suffix={suffix || openButtonNode}\n      value={inputValue}\n    />\n  )\n\n  const handleListBoxKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      // If the focus is currently in the list, move focus to the input element\n      if (event.key === 'Tab') {\n        if (listFocused) inputElementRef.current?.focus()\n      }\n    },\n    [listFocused],\n  )\n\n  const content = useMemo(() => {\n    if (filteredOptions.length === 0) return null\n\n    return (\n      <ListBox\n        data-ui=\"AutoComplete__results\"\n        onKeyDown={handleListBoxKeyDown}\n        padding={1}\n        {...listBox}\n        tabIndex={-1}\n      >\n        <Stack\n          as=\"ul\"\n          aria-multiselectable={false}\n          data-ui=\"AutoComplete__resultsList\"\n          id={listBoxId}\n          ref={listBoxElementRef}\n          role=\"listbox\"\n          space={1}\n        >\n          {filteredOptions.map((option) => {\n            const active =\n              activeValue !== null ? option.value === activeValue : currentOption === option\n\n            return (\n              <AutocompleteOption\n                id={`${id}-option-${option.value}`}\n                key={option.value}\n                onSelect={handleOptionSelect}\n                selected={active}\n                value={option.value}\n              >\n                {cloneElement(renderOption(option), {\n                  disabled: loading,\n                  selected: active,\n                  tabIndex: listFocused && active ? 0 : -1,\n                })}\n              </AutocompleteOption>\n            )\n          })}\n        </Stack>\n      </ListBox>\n    )\n  }, [\n    activeValue,\n    currentOption,\n    filteredOptions,\n    handleOptionSelect,\n    handleListBoxKeyDown,\n    id,\n    listBox,\n    listBoxId,\n    listFocused,\n    loading,\n    renderOption,\n  ])\n\n  const results = useMemo(() => {\n    if (renderPopover) {\n      return renderPopover(\n        // eslint-disable-next-line react-hooks/refs\n        {\n          content,\n          hidden: !expanded,\n          // eslint-disable-next-line react-hooks/refs\n          inputElement: inputElementRef.current,\n          onMouseEnter: handlePopoverMouseEnter,\n          onMouseLeave: handlePopoverMouseLeave,\n        },\n        // eslint-disable-next-line react-hooks/refs\n        resultsPopoverElementRef,\n      )\n    }\n\n    if (filteredOptionsLen === 0) {\n      return null\n    }\n\n    return (\n      <Popover\n        arrow={false}\n        constrainSize\n        content={content}\n        fallbackPlacements={AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS}\n        matchReferenceWidth\n        onMouseEnter={handlePopoverMouseEnter}\n        onMouseLeave={handlePopoverMouseLeave}\n        open={expanded}\n        overflow=\"auto\"\n        placement={AUTOCOMPLETE_POPOVER_PLACEMENT}\n        portal\n        radius={radius}\n        ref={resultsPopoverElementRef}\n        // eslint-disable-next-line react-hooks/refs\n        referenceElement={inputElementRef.current}\n        {...popover}\n      />\n    )\n  }, [\n    content,\n    expanded,\n    filteredOptionsLen,\n    handlePopoverMouseEnter,\n    handlePopoverMouseLeave,\n    popover,\n    radius,\n    renderPopover,\n  ])\n\n  return (\n    <StyledAutocomplete\n      data-ui=\"Autocomplete\"\n      onBlur={handleRootBlur}\n      onFocus={handleRootFocus}\n      onKeyDown={handleRootKeyDown}\n      ref={rootElementRef}\n    >\n      {input}\n      {results}\n    </StyledAutocomplete>\n  )\n})\n\nInnerAutocomplete.displayName = 'ForwardRef(Autocomplete)'\n\n/**\n * The Autocomplete component is typically used for search components.\n * It consists of a text input for writing a query, and properties for rendering suggestions.\n *\n * @public\n */\nexport const Autocomplete = InnerAutocomplete as <Option extends BaseAutocompleteOption>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'popover'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    > & {\n      ref?: Ref<HTMLInputElement>\n    },\n) => React.JSX.Element\n","import {styled} from 'styled-components'\n\nimport {Button} from '../../primitives'\n\nexport const StyledBreadcrumbs = styled.ol`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  list-style: none;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 0;\n`\n\nexport const ExpandButton = styled(Button)`\n  appearance: none;\n  margin: -4px;\n`\n","import {\n  Children,\n  forwardRef,\n  Fragment,\n  isValidElement,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\n\nimport {useArrayProp, useClickOutsideEvent} from '../../hooks'\nimport {Box, Popover, Stack, Text} from '../../primitives'\nimport {ExpandButton, StyledBreadcrumbs} from './breadcrumbs.styles'\n\n/**\n * @beta\n */\nexport interface BreadcrumbsProps {\n  maxLength?: number\n  separator?: React.ReactNode\n  space?: number | number[]\n}\n\n/**\n * @beta\n */\nexport const Breadcrumbs = forwardRef(function Breadcrumbs(\n  props: BreadcrumbsProps & Omit<React.HTMLProps<HTMLOListElement>, 'as' | 'ref' | 'type'>,\n  ref: React.ForwardedRef<HTMLOListElement>,\n) {\n  const {children, maxLength, separator, space: spaceRaw = 2, ...restProps} = props\n  const space = useArrayProp(spaceRaw)\n  const [open, setOpen] = useState(false)\n  const expandElementRef = useRef<HTMLButtonElement | null>(null)\n  const popoverElementRef = useRef<HTMLDivElement | null>(null)\n\n  const collapse = useCallback(() => setOpen(false), [])\n  const expand = useCallback(() => setOpen(true), [])\n\n  useClickOutsideEvent(collapse, () => [expandElementRef.current, popoverElementRef.current])\n\n  const rawItems = useMemo(() => Children.toArray(children).filter(isValidElement), [children])\n\n  const items = useMemo(() => {\n    const len = rawItems.length\n\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2)\n      const afterLength = Math.floor(maxLength / 2)\n\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        <Popover\n          constrainSize\n          content={\n            <Stack as=\"ol\" overflow=\"auto\" padding={space} space={space}>\n              {rawItems.slice(beforeLength - 1, len - afterLength)}\n            </Stack>\n          }\n          key=\"button\"\n          open={open}\n          placement=\"top\"\n          portal\n          ref={popoverElementRef}\n        >\n          <ExpandButton\n            fontSize={1}\n            mode=\"bleed\"\n            onClick={open ? collapse : expand}\n            padding={1}\n            ref={expandElementRef}\n            selected={open}\n            text=\"…\"\n          />\n        </Popover>,\n        ...rawItems.slice(len - afterLength),\n      ]\n    }\n\n    return rawItems\n  }, [collapse, expand, maxLength, open, rawItems, space])\n\n  return (\n    <StyledBreadcrumbs data-ui=\"Breadcrumbs\" {...restProps} ref={ref}>\n      {items.map((item, itemIndex) => (\n        <Fragment key={itemIndex}>\n          {itemIndex > 0 && (\n            <Box aria-hidden as=\"li\" paddingX={space}>\n              {separator || <Text muted>/</Text>}\n            </Box>\n          )}\n          <Box as=\"li\">{item}</Box>\n        </Fragment>\n      ))}\n    </StyledBreadcrumbs>\n  )\n})\nBreadcrumbs.displayName = 'ForwardRef(Breadcrumbs)'\n","import {CSSObject, getTheme_v2} from '@sanity/ui/theme'\nimport {css} from 'styled-components'\n\nimport {_responsive, ThemeProps} from '../../styles'\nimport {DialogPosition} from '../../types'\n\n/**\n * @internal\n */\nexport interface ResponsiveDialogPositionStyleProps {\n  $position: DialogPosition[]\n}\n\nexport function dialogStyle({theme}: ThemeProps): CSSObject {\n  const {color} = getTheme_v2(theme)\n\n  return {\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n\n    'top': 0,\n    'left': 0,\n    'right': 0,\n    'bottom': 0,\n    'alignItems': 'center',\n    'justifyContent': 'center',\n    'outline': 'none',\n    'background': color.backdrop,\n  }\n}\n\nexport function responsiveDialogPositionStyle(\n  props: ResponsiveDialogPositionStyleProps & ThemeProps,\n): CSSObject[] {\n  const {media} = getTheme_v2(props.theme)\n\n  return _responsive(media, props.$position, (position) => ({'&&': {position}}))\n}\n\n/**\n * @internal\n */\nexport interface AnimationDialogStyleProps {\n  $animate: boolean\n}\n\nexport function animationDialogStyle(props: AnimationDialogStyleProps): ReturnType<typeof css> {\n  if (!props.$animate) return css``\n\n  return css`\n    @keyframes zoomIn {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    animation: fadeIn 200ms ease-out;\n    // Animates the dialog card.\n    & > [data-ui='DialogCard'] {\n      animation: zoomIn 200ms ease-out;\n    }\n  `\n}\n","import {createGlobalScopedContext} from '../../lib/createGlobalScopedContext'\nimport {DialogPosition} from '../../types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogContextValue {\n  version: 0.0\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\n/**\n * @internal\n */\nexport const DialogContext = createGlobalScopedContext<DialogContextValue>(\n  '@sanity/ui/context/dialog',\n  {version: 0.0},\n)\n","import {useContext} from 'react'\n\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useDialog(): DialogContextValue {\n  return useContext(DialogContext)\n}\n","import {CloseIcon} from '@sanity/icons'\nimport {ThemeColorSchemeKey} from '@sanity/ui/theme'\nimport {forwardRef, useCallback, useEffect, useImperativeHandle, useRef} from 'react'\nimport {styled} from 'styled-components'\n\nimport {\n  containsOrEqualsElement,\n  focusFirstDescendant,\n  focusLastDescendant,\n  isHTMLElement,\n} from '../../helpers'\nimport {\n  useArrayProp,\n  useClickOutsideEvent,\n  useGlobalKeyDown,\n  usePrefersReducedMotion,\n} from '../../hooks'\nimport {Box, Button, Card, Container, Flex, Text} from '../../primitives'\nimport {ResponsivePaddingProps, ResponsiveWidthProps} from '../../primitives/types'\nimport {responsivePaddingStyle, ResponsivePaddingStyleProps} from '../../styles/internal'\nimport {useTheme_v2} from '../../theme'\nimport {DialogPosition, Radius} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement, useLayer, usePortal} from '../../utils'\nimport {\n  animationDialogStyle,\n  AnimationDialogStyleProps,\n  dialogStyle,\n  responsiveDialogPositionStyle,\n  ResponsiveDialogPositionStyleProps,\n} from './styles'\nimport {useDialog} from './useDialog'\n\n/**\n * @public\n */\nexport interface DialogProps extends ResponsivePaddingProps, ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus?: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton?: boolean\n  cardRadius?: Radius | Radius[]\n  cardShadow?: number | number[]\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer?: React.ReactNode\n  header?: React.ReactNode\n  id: string\n  /** A callback that fires when the dialog becomes the top layer when it was not the top layer before. */\n  onActivate?: LayerProps['onActivate']\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  position?: DialogPosition | DialogPosition[]\n  scheme?: ThemeColorSchemeKey\n  zOffset?: number | number[]\n  /**\n   * Whether the dialog should animate in on mount.\n   *\n   * @beta\n   * @defaultValue false\n   */\n  animate?: boolean\n}\n\ninterface DialogCardProps extends ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton: boolean\n  children: React.ReactNode\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer: React.ReactNode\n  header: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  radius: Radius | Radius[]\n  scheme?: ThemeColorSchemeKey\n  shadow: number | number[]\n}\n\nfunction isTargetWithinScope(\n  boundaryElement: HTMLElement | null,\n  portalElement: HTMLElement | null,\n  target: Node,\n): boolean {\n  if (!boundaryElement || !portalElement) return true\n\n  return (\n    containsOrEqualsElement(boundaryElement, target) ||\n    containsOrEqualsElement(portalElement, target)\n  )\n}\n\nconst StyledDialog = styled(Layer)<\n  ResponsiveDialogPositionStyleProps & ResponsivePaddingStyleProps & AnimationDialogStyleProps\n>(responsivePaddingStyle, dialogStyle, responsiveDialogPositionStyle, animationDialogStyle)\n\nconst DialogContainer = styled(Container)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n\nconst DialogCardRoot = styled(Card)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  min-height: 0;\n  max-height: 100%;\n  overflow: hidden;\n  overflow: clip;\n`\n\nconst DialogLayout = styled(Flex)`\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n`\n\nconst DialogHeader = styled(Box)`\n  position: relative;\n  z-index: 2;\n`\n\nconst DialogContent = styled(Box)`\n  position: relative;\n  z-index: 1;\n  overflow: auto;\n  outline: none;\n`\n\nconst DialogFooter = styled(Box)`\n  position: relative;\n  z-index: 3;\n`\n\nconst DialogCard = forwardRef(function DialogCard(\n  props: DialogCardProps,\n  forwardedRef: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    __unstable_autoFocus: autoFocus,\n    __unstable_hideCloseButton: hideCloseButton,\n    children,\n    contentRef: forwardedContentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    portal: portalProp,\n    radius: radiusProp,\n    scheme,\n    shadow: shadowProp,\n    width: widthProp,\n  } = props\n  const portal = usePortal()\n  const portalElement = portalProp ? portal.elements?.[portalProp] || null : portal.element\n  const boundaryElement = useBoundaryElement().element\n  const radius = useArrayProp(radiusProp)\n  const shadow = useArrayProp(shadowProp)\n  const width = useArrayProp(widthProp)\n  const ref = useRef<HTMLDivElement | null>(null)\n  const contentRef = useRef<HTMLDivElement | null>(null)\n  const layer = useLayer()\n  const {isTopLayer} = layer\n  const labelId = `${id}_label`\n  const showCloseButton = Boolean(onClose) && hideCloseButton === false\n  const showHeader = Boolean(header) || showCloseButton\n\n  useImperativeHandle<HTMLDivElement | null, HTMLDivElement | null>(forwardedRef, () => ref.current)\n  useImperativeHandle<HTMLDivElement | null, HTMLDivElement | null>(\n    forwardedContentRef,\n    () => contentRef.current,\n  )\n\n  useEffect(() => {\n    if (!autoFocus) return\n\n    // On mount: focus the first focusable element\n    if (ref.current) {\n      focusFirstDescendant(ref.current)\n    }\n  }, [autoFocus, ref])\n\n  useGlobalKeyDown(\n    useCallback(\n      (event: KeyboardEvent) => {\n        if (!isTopLayer || !onClose) return\n\n        const target = document.activeElement\n\n        if (target && !isTargetWithinScope(boundaryElement, portalElement, target)) {\n          // Ignore key presses when the focused element is outside of scope\n          return\n        }\n\n        if (event.key === 'Escape') {\n          event.preventDefault()\n          event.stopPropagation()\n          onClose()\n        }\n      },\n      [boundaryElement, isTopLayer, onClose, portalElement],\n    ),\n  )\n\n  useClickOutsideEvent(\n    isTopLayer &&\n      onClickOutside &&\n      ((event) => {\n        const target = event.target as Node | null\n\n        if (target && !isTargetWithinScope(boundaryElement, portalElement, target)) {\n          // Ignore clicks outside of the scope\n          return\n        }\n\n        onClickOutside()\n      }),\n    () => [ref.current],\n  )\n\n  return (\n    <DialogContainer data-ui=\"DialogCard\" width={width}>\n      <DialogCardRoot radius={radius} ref={ref} scheme={scheme} shadow={shadow}>\n        <DialogLayout direction=\"column\">\n          {showHeader && (\n            <DialogHeader>\n              <Flex align=\"flex-start\" padding={3}>\n                <Box flex={1} padding={2}>\n                  {header && (\n                    <Text id={labelId} size={1} weight=\"semibold\">\n                      {header}\n                    </Text>\n                  )}\n                </Box>\n                {showCloseButton && (\n                  <Box flex=\"none\">\n                    <Button\n                      aria-label=\"Close dialog\"\n                      disabled={!onClose}\n                      icon={CloseIcon}\n                      mode=\"bleed\"\n                      onClick={onClose}\n                      padding={2}\n                    />\n                  </Box>\n                )}\n              </Flex>\n            </DialogHeader>\n          )}\n\n          <DialogContent flex={1} ref={contentRef} tabIndex={-1}>\n            {children}\n          </DialogContent>\n\n          {footer && <DialogFooter>{footer}</DialogFooter>}\n        </DialogLayout>\n      </DialogCardRoot>\n    </DialogContainer>\n  )\n})\n\nDialogCard.displayName = 'ForwardRef(DialogCard)'\n\n/**\n * The Dialog component.\n *\n * @public\n */\nexport const Dialog = forwardRef(function Dialog(\n  props: DialogProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'id' | 'width'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const dialog = useDialog()\n  const {layer} = useTheme_v2()\n  const {\n    __unstable_autoFocus: autoFocus = true,\n    __unstable_hideCloseButton: hideCloseButton = false,\n    cardRadius: cardRadiusProp = 4,\n    cardShadow = 3,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onActivate,\n    onClickOutside,\n    onClose,\n    onFocus,\n    padding: paddingProp = 3,\n    portal: portalProp,\n    position: _positionProp,\n    scheme,\n    width: widthProp = 0,\n    zOffset: _zOffsetProp,\n    animate: _animate = false,\n    ...restProps\n  } = props\n  const positionProp = _positionProp ?? (dialog.position || 'fixed')\n  const zOffsetProp = _zOffsetProp ?? (dialog.zOffset || layer.dialog.zOffset)\n  const prefersReducedMotion = usePrefersReducedMotion()\n  const animate = prefersReducedMotion ? false : _animate\n  const portal = usePortal()\n  const portalElement = portalProp ? portal.elements?.[portalProp] || null : portal.element\n  const boundaryElement = useBoundaryElement().element\n  const cardRadius = useArrayProp(cardRadiusProp)\n  const padding = useArrayProp(paddingProp)\n  const position = useArrayProp(positionProp)\n  const width = useArrayProp(widthProp)\n  const zOffset = useArrayProp(zOffsetProp)\n  const preDivRef = useRef<HTMLDivElement | null>(null)\n  const postDivRef = useRef<HTMLDivElement | null>(null)\n  const cardRef = useRef<HTMLDivElement | null>(null)\n  const focusedElementRef = useRef<HTMLElement | null>(null)\n\n  const handleFocus = useCallback(\n    (event: React.FocusEvent<HTMLDivElement>) => {\n      onFocus?.(event)\n\n      const target = event.target\n      const cardElement = cardRef.current\n\n      if (cardElement && target === preDivRef.current) {\n        focusLastDescendant(cardElement)\n\n        return\n      }\n\n      if (cardElement && target === postDivRef.current) {\n        focusFirstDescendant(cardElement)\n\n        return\n      }\n\n      if (isHTMLElement(event.target)) {\n        focusedElementRef.current = event.target\n      }\n    },\n    [onFocus],\n  )\n\n  const labelId = `${id}_label`\n\n  const rootClickTimeoutRef = useRef<NodeJS.Timeout>(undefined)\n\n  // If the resulting active element (a.k.a. focused element) is not withing scope when clicking\n  // within the dialog, then we want to focus the previously interactive element in the dialog instead.\n  // This is to allow the user to tab or close the dialog by pressing escape.\n  const handleRootClick = useCallback(() => {\n    if (rootClickTimeoutRef.current) {\n      clearTimeout(rootClickTimeoutRef.current)\n    }\n\n    rootClickTimeoutRef.current = setTimeout(() => {\n      const activeElement = document.activeElement\n\n      if (activeElement && !isTargetWithinScope(boundaryElement, portalElement, activeElement)) {\n        const target = focusedElementRef.current\n\n        if (!target || !document.body.contains(target)) {\n          // No previously focused element, or it's not in the document anymore\n          const cardElement = cardRef.current\n          if (cardElement) focusFirstDescendant(cardElement)\n\n          return\n        }\n\n        target.focus()\n      }\n    }, 0)\n  }, [boundaryElement, portalElement])\n\n  return (\n    <Portal __unstable_name={portalProp}>\n      <StyledDialog\n        {...restProps}\n        $animate={animate}\n        $padding={padding}\n        $position={position}\n        aria-labelledby={labelId}\n        aria-modal\n        data-ui=\"Dialog\"\n        id={id}\n        onActivate={onActivate}\n        onClick={handleRootClick}\n        onFocus={handleFocus}\n        ref={ref}\n        role=\"dialog\"\n        zOffset={zOffset}\n      >\n        {/* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */}\n        <div ref={preDivRef} tabIndex={0} />\n        <DialogCard\n          __unstable_autoFocus={autoFocus}\n          __unstable_hideCloseButton={hideCloseButton}\n          contentRef={contentRef}\n          footer={footer}\n          header={header}\n          id={id}\n          onClickOutside={onClickOutside}\n          onClose={onClose}\n          portal={portalProp}\n          radius={cardRadius}\n          ref={cardRef}\n          scheme={scheme}\n          shadow={cardShadow}\n          width={width}\n        >\n          {children}\n        </DialogCard>\n        {/* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */}\n        <div ref={postDivRef} tabIndex={0} />\n      </StyledDialog>\n    </Portal>\n  )\n})\nDialog.displayName = 'ForwardRef(Dialog)'\n","import {useMemo} from 'react'\n\nimport {DialogPosition} from '../../types'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogProviderProps {\n  children?: React.ReactNode\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function DialogProvider(props: DialogProviderProps): React.JSX.Element {\n  const {children, position, zOffset} = props\n\n  const contextValue: DialogContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      position,\n      zOffset,\n    }),\n    [position, zOffset],\n  )\n\n  return <DialogContext.Provider value={contextValue}>{children}</DialogContext.Provider>\n}\n\nDialogProvider.displayName = 'DialogProvider'\n","import {ThemeColorSchemeKey} from '@sanity/ui/theme'\nimport {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\n\nimport {Popover, PopoverProps} from '../../primitives'\nimport {Placement, Radius} from '../../types'\nimport {MenuProps} from './menu'\n\n/**\n * @public\n */\nexport interface MenuButtonProps {\n  /**\n   * @beta Do not use in production.\n   */\n  __unstable_disableRestoreFocusOnClose?: boolean\n  /**\n   * @deprecated Use `popover={{boundaryElement: element}}` instead.\n   */\n  boundaryElement?: HTMLElement\n  button: React.JSX.Element\n  id: string\n  menu?: React.JSX.Element\n  onClose?: () => void\n  onOpen?: () => void\n  /**\n   * @deprecated Use `popover={{placement: 'top'}}` instead.\n   */\n  placement?: Placement\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  /**\n   * @deprecated Use `popover={{scheme: 'dark'}}` instead.\n   */\n  popoverScheme?: ThemeColorSchemeKey\n  /**\n   * @deprecated Use `popover={{radius: 2}}` instead.\n   */\n  popoverRadius?: Radius | Radius[]\n  /**\n   * @beta Do not use in production.\n   * @deprecated Use `popover={{portal: true}}` instead.\n   */\n  portal?: boolean\n  /**\n   * @deprecated Use `popover={{preventOverflow: true}}` instead.\n   */\n  preventOverflow?: boolean\n}\n\n/**\n * The `MenuButton` component follows the WAI-ARIA specification for menu buttons.\n *\n * @public\n */\nexport const MenuButton = forwardRef(function MenuButton(\n  props: MenuButtonProps,\n  forwardedRef: React.ForwardedRef<HTMLButtonElement | null>,\n) {\n  const {\n    __unstable_disableRestoreFocusOnClose: disableRestoreFocusOnClose = false,\n    boundaryElement: deprecated_boundaryElement,\n    button: buttonProp,\n    id,\n    menu: menuProp,\n    onClose,\n    onOpen,\n    placement: deprecated_placement,\n    popoverScheme: deprecated_popoverScheme,\n    portal: deprecated_portal = true,\n    popover,\n    popoverRadius: deprecated_popoverRadius,\n    preventOverflow: deprecated_preventOverflow,\n  } = props\n  const [open, setOpen] = useState(false)\n  const [shouldFocus, setShouldFocus] = useState<'first' | 'last' | null>(null)\n  const [buttonElement, setButtonElement] = useState<HTMLButtonElement | null>(null)\n  const [menuElements, setChildMenuElements] = useState<HTMLElement[]>([])\n  const openRef = useRef<boolean>(open)\n\n  // Notify consumers when the menu opens\n  useEffect(() => {\n    if (onOpen && open && !openRef.current) {\n      onOpen()\n    }\n  }, [onOpen, open])\n\n  // Notify consumers when the menu closes\n  useEffect(() => {\n    if (onClose && !open && openRef.current) {\n      onClose()\n    }\n  }, [onClose, open])\n\n  useEffect(() => {\n    openRef.current = open\n  }, [open])\n\n  const handleButtonClick = useCallback(() => {\n    setOpen((v) => !v)\n    setShouldFocus(null)\n  }, [])\n\n  // Prevent mouse event propagation when the menu is open.\n  // This is to ensure that `handleBlur` isn't triggered when clicking the menu button whilst open,\n  // which can lead to `setOpen` being triggered multiple times (once by `handleBlur`, and again by `handleButtonClick`).\n  const handleMouseDown = useCallback(\n    (event: PointerEvent) => {\n      if (open) event.preventDefault()\n    },\n    [open],\n  )\n\n  const handleButtonKeyDown = useCallback((event: React.KeyboardEvent<HTMLButtonElement>) => {\n    // On `ArrowDown`, `Enter` and `Space`\n    // - Opens menu and moves focus to first menuitem\n    if (event.key === 'ArrowDown' || event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('first')\n\n      return\n    }\n\n    // On `ArrowUp`\n    // - \tOpens menu and moves focus to last menuitem\n    if (event.key === 'ArrowUp') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('last')\n\n      return\n    }\n  }, [])\n\n  const handleMenuClickOutside = useCallback(\n    (event: MouseEvent) => {\n      const target = event.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (buttonElement && (target === buttonElement || buttonElement.contains(target))) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [buttonElement, menuElements],\n  )\n\n  const handleMenuEscape = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const handleBlur = useCallback(\n    (event: FocusEvent) => {\n      const target = event.relatedTarget\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (el === target || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [menuElements],\n  )\n\n  const handleItemClick = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const registerElement = useCallback((el: HTMLElement) => {\n    setChildMenuElements((els) => els.concat([el]))\n\n    return () => setChildMenuElements((els) => els.filter((_el) => _el !== el))\n  }, [])\n\n  const menuProps: MenuProps = {\n    'aria-labelledby': id,\n    'onBlurCapture': handleBlur,\n    'onClickOutside': handleMenuClickOutside,\n    'onEscape': handleMenuEscape,\n    'onItemClick': handleItemClick,\n    'originElement': buttonElement,\n    registerElement,\n    shouldFocus,\n  }\n\n  const menu = menuProp && cloneElement(menuProp, menuProps)\n\n  const button = useMemo(\n    () =>\n      buttonProp &&\n      cloneElement(buttonProp, {\n        'data-ui': 'MenuButton',\n        id,\n        'onClick': handleButtonClick,\n        'onKeyDown': handleButtonKeyDown,\n        'onMouseDown': handleMouseDown,\n        'aria-haspopup': true,\n        'aria-expanded': open,\n        'ref': setButtonElement,\n        'selected': buttonProp.props.selected ?? open,\n      }),\n    [buttonProp, handleButtonClick, handleButtonKeyDown, handleMouseDown, id, open],\n  )\n\n  // Forward button ref to parent\n  useImperativeHandle<HTMLButtonElement | null, HTMLButtonElement | null>(\n    forwardedRef,\n    () => buttonElement,\n    [buttonElement],\n  )\n\n  const popoverProps: MenuButtonProps['popover'] = useMemo(\n    () => ({\n      boundaryElement: deprecated_boundaryElement,\n      overflow: 'auto',\n      placement: deprecated_placement,\n      portal: deprecated_portal,\n      preventOverflow: deprecated_preventOverflow,\n      radius: deprecated_popoverRadius,\n      scheme: deprecated_popoverScheme,\n      ...(popover || {}),\n    }),\n    [\n      deprecated_boundaryElement,\n      deprecated_placement,\n      deprecated_popoverRadius,\n      deprecated_popoverScheme,\n      deprecated_portal,\n      deprecated_preventOverflow,\n      popover,\n    ],\n  )\n\n  return (\n    <Popover data-ui=\"MenuButton__popover\" {...popoverProps} content={menu} open={open}>\n      {button || <></>}\n    </Popover>\n  )\n})\nMenuButton.displayName = 'ForwardRef(MenuButton)'\n","import {css, keyframes} from 'styled-components'\n\nconst keyframe = keyframes`\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n`\n\nconst animation = css`\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ${keyframe};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const skeletonStyle = css<{$animated: boolean; $visible: boolean}>`\n  opacity: ${({$visible}) => ($visible ? 1 : 0)};\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ${({$animated}) =>\n      $animated\n        ? animation\n        : css`\n            background-color: var(--card-skeleton-color-from);\n          `}\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n`\n","import {forwardRef, useEffect, useState} from 'react'\nimport {styled} from 'styled-components'\n\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps, ResponsiveRadiusProps} from '../../primitives'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {skeletonStyle} from './styles'\n\nconst StyledSkeleton = styled(Box)<\n  {$animated: boolean; $visible: boolean} & ResponsiveRadiusStyleProps\n>(responsiveRadiusStyle, skeletonStyle)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface SkeletonProps extends ResponsiveRadiusProps, Omit<BoxProps, 'children'> {\n  animated?: boolean\n  delay?: number\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Skeleton = forwardRef(function Skeleton(\n  props: SkeletonProps & React.HTMLProps<HTMLDivElement>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {animated = false, delay, radius, ...restProps} = props\n  const [visible, setVisible] = useState<boolean>(delay ? false : true)\n\n  useEffect(() => {\n    if (!delay) {\n      // eslint-disable-next-line react-hooks/set-state-in-effect\n      return setVisible(true)\n    }\n\n    const timeout = setTimeout(() => {\n      setVisible(true)\n    }, delay)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [delay])\n\n  return (\n    <StyledSkeleton\n      {...restProps}\n      $animated={animated}\n      $radius={useArrayProp(radius)}\n      $visible={visible}\n      ref={ref}\n    />\n  )\n})\nSkeleton.displayName = 'ForwardRef(Skeleton)'\n","import {getTheme_v2, ThemeFontKey} from '@sanity/ui/theme'\nimport {forwardRef} from 'react'\nimport {styled} from 'styled-components'\n\nimport {useArrayProp} from '../../hooks'\nimport {_responsive, ThemeProps} from '../../styles'\nimport {Skeleton, SkeletonProps} from './skeleton'\n\nconst StyledSkeleton = styled(Skeleton)<{$size: number[]; $style: ThemeFontKey}>((\n  props: {\n    $size: number[]\n    $style: ThemeFontKey\n  } & ThemeProps,\n) => {\n  const {$size, $style} = props\n  const {font, media} = getTheme_v2(props.theme)\n  const fontStyle = font[$style]\n\n  const styles = _responsive(media, $size, (sizeIndex) => {\n    const fontSize = fontStyle.sizes[sizeIndex]\n    const capHeight = fontSize.lineHeight - fontSize.ascenderHeight - fontSize.descenderHeight\n\n    return {height: capHeight}\n  })\n\n  return styles\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TextSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface LabelSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface HeadingSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface CodeSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TextSkeleton = forwardRef(function TextSkeleton(\n  props: TextSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <StyledSkeleton {...restProps} $size={$size} ref={ref} $style=\"text\" />\n})\nTextSkeleton.displayName = 'ForwardRef(TextSkeleton)'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const LabelSkeleton = forwardRef(function TextSkeleton(\n  props: LabelSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <StyledSkeleton {...restProps} $size={$size} ref={ref} $style=\"label\" />\n})\nLabelSkeleton.displayName = 'ForwardRef(LabelSkeleton)'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const HeadingSkeleton = forwardRef(function TextSkeleton(\n  props: HeadingSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <StyledSkeleton {...restProps} $size={$size} ref={ref} $style=\"heading\" />\n})\nHeadingSkeleton.displayName = 'ForwardRef(HeadingSkeleton)'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const CodeSkeleton = forwardRef(function TextSkeleton(\n  props: CodeSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <StyledSkeleton {...restProps} $size={$size} ref={ref} $style=\"code\" />\n})\nCodeSkeleton.displayName = 'ForwardRef(CodeSkeleton)'\n","import {forwardRef} from 'react'\n\nimport {Box, BoxProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabPanelProps extends BoxProps {\n  /**\n   * The `id` of the correlating `Tab` component.\n   */\n  'aria-labelledby': string\n  'id': string\n}\n\n/**\n * @public\n */\nexport const TabPanel = forwardRef(function TabPanel(\n  props: TabPanelProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'aria-labelledby' | 'id' | 'role'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {flex, ...restProps} = props\n\n  return (\n    <Box\n      data-ui=\"TabPanel\"\n      {...restProps}\n      flex={flex}\n      ref={ref}\n      role=\"tabpanel\"\n      tabIndex={props.tabIndex === undefined ? 0 : props.tabIndex}\n    >\n      {props.children}\n    </Box>\n  )\n})\nTabPanel.displayName = 'ForwardRef(TabPanel)'\n","import {getTheme_v2, ThemeColorStateToneKey} from '@sanity/ui/theme'\nimport {styled} from 'styled-components'\n\nimport {Card, Flex} from '../../primitives'\nimport type {ButtonTone} from '../../types'\n\nconst LOADING_BAR_HEIGHT = 2\n\nexport const STATUS_CARD_TONE = {\n  error: 'critical',\n  warning: 'caution',\n  success: 'positive',\n  info: 'neutral',\n} satisfies {[key: string]: ThemeColorStateToneKey}\n\nexport const BUTTON_TONE = {\n  error: 'critical',\n  warning: 'caution',\n  success: 'positive',\n  info: 'neutral',\n} satisfies {[key: string]: ButtonTone}\n\nexport const TextBox = styled(Flex)`\n  overflow-x: auto;\n`\n\nexport const StyledToast = styled(Card)`\n  pointer-events: all;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  overflow: clip;\n\n  &[data-has-duration] {\n    padding-bottom: calc(${LOADING_BAR_HEIGHT}px / 2);\n  }\n`\n\nexport const LoadingBar = styled.div`\n  display: flex;\n  position: absolute;\n  bottom: 0px;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  pointer-events: none;\n  z-index: -1;\n  overflow: hidden;\n  overflow: clip;\n  background: transparent;\n  align-items: flex-end;\n  will-change: opacity;\n`\n\nexport const LoadingBarMask = styled(Card)`\n  position: absolute;\n  top: 0;\n  left: -${LOADING_BAR_HEIGHT}px;\n  right: -${LOADING_BAR_HEIGHT}px;\n  bottom: ${LOADING_BAR_HEIGHT}px;\n  z-index: 1;\n`\n\ntype LoadingBarProgressProps = Omit<React.ComponentProps<typeof Card>, 'tone'> & {\n  tone: ThemeColorStateToneKey\n}\nexport const LoadingBarProgress = styled<React.ComponentType<LoadingBarProgressProps>>(Card)`\n  display: block;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0% 50%;\n  background-color: ${(props) => {\n    const {color} = getTheme_v2(props.theme)\n\n    return color.button.default[props.tone].enabled.bg\n  }};\n`\n","import {CloseIcon} from '@sanity/icons'\nimport {motion, type Variant, type Variants} from 'framer-motion'\n\nimport {usePrefersReducedMotion} from '../../hooks/usePrefersReducedMotion'\nimport {Box, Button, Flex, Stack, Text} from '../../primitives'\nimport {\n  BUTTON_TONE,\n  LoadingBar,\n  LoadingBarMask,\n  LoadingBarProgress,\n  STATUS_CARD_TONE,\n  StyledToast,\n  TextBox,\n} from './styles'\n\n/**\n * @public\n */\nexport interface ToastProps {\n  closable?: boolean\n  description?: React.ReactNode\n  onClose: () => void\n  radius?: number | number[]\n  title?: React.ReactNode\n  status?: 'error' | 'warning' | 'success' | 'info'\n  duration?: number\n  updatedAt?: number\n}\n\nconst ROLES = {\n  error: 'alert',\n  warning: 'alert',\n  success: 'alert',\n  info: 'alert',\n} as const\n\n// Support pattern used by Sanity Studio, that works around the lack of `duration: Infinity` support in older @sanity/ui versions\n// https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value\nconst LONG_ENOUGH_BUT_NOT_TOO_LONG = 1000 * 60 * 60 * 24 * 24\n\n/**\n * The `Toast` component gives feedback to users when an action has taken place.\n *\n * Toasts can be closed with a close button, or auto-dismiss after a certain timeout.\n *\n * @public\n */\nexport function Toast(\n  props: ToastProps &\n    Omit<\n      React.HTMLProps<HTMLDivElement>,\n      | 'as'\n      | 'height'\n      | 'ref'\n      | 'title'\n      | 'onAnimationStart'\n      | 'onDragStart'\n      | 'onDragEnd'\n      | 'onDrag'\n    >,\n): React.JSX.Element {\n  const {\n    closable,\n    description,\n    duration,\n    onClose,\n    radius = 3,\n    title,\n    status,\n    updatedAt,\n    ...restProps\n  } = props\n  const cardTone = status ? STATUS_CARD_TONE[status] : 'default'\n  const buttonTone = status ? BUTTON_TONE[status] : 'default'\n  const role = status ? ROLES[status] : 'status'\n\n  const prefersReducedMotion = usePrefersReducedMotion()\n\n  const visualDuration: number = prefersReducedMotion ? 0 : 0.26\n  const transition = visualDuration\n    ? {type: 'spring' as const, visualDuration, bounce: 0.25}\n    : {duration: 0}\n\n  const hasDuration = duration && isFinite(duration) && duration < LONG_ENOUGH_BUT_NOT_TOO_LONG\n  const initial: ContainerVariants[] = ['hidden', 'initial']\n  const animate: ContainerVariants[] = ['visible', 'slideIn']\n  const exit: ContainerVariants[] = ['hidden', 'slideOut']\n\n  return (\n    <MotionToast\n      data-ui=\"Toast\"\n      role={role}\n      {...restProps}\n      data-has-duration={hasDuration ? '' : undefined}\n      custom={visualDuration}\n      radius={radius}\n      shadow={2}\n      tone={cardTone}\n      forwardedAs=\"li\"\n      layout=\"position\"\n      variants={container}\n      initial={initial}\n      animate={animate}\n      exit={exit}\n      transition={transition}\n    >\n      <MotionFlex align=\"flex-start\" variants={content} transition={transition}>\n        <TextBox flex={1} padding={3}>\n          <Stack space={3}>\n            {title && (\n              <Text size={1} weight=\"medium\">\n                {title}\n              </Text>\n            )}\n            {description && (\n              <MotionText muted size={1} variants={content} transition={transition}>\n                {description}\n              </MotionText>\n            )}\n          </Stack>\n        </TextBox>\n\n        {closable && (\n          <Box padding={1}>\n            <Button\n              as=\"button\"\n              icon={CloseIcon}\n              mode=\"bleed\"\n              padding={2}\n              tone={buttonTone}\n              onClick={onClose}\n              style={{verticalAlign: 'top'}}\n            />\n          </Box>\n        )}\n      </MotionFlex>\n      {hasDuration && (\n        <MotionLoadingBar variants={content} transition={transition}>\n          <LoadingBarMask tone={cardTone} radius={radius} />\n          <MotionLoadingBarProgress\n            key={`progress-${updatedAt}`}\n            tone={cardTone}\n            initial={{scaleX: 0}}\n            animate={{scaleX: 1}}\n            transition={{delay: visualDuration, duration: duration / 1_000, ease: 'linear'}}\n            onAnimationComplete={onClose}\n          />\n        </MotionLoadingBar>\n      )}\n    </MotionToast>\n  )\n}\n\nToast.displayName = 'Toast'\n\nconst container = {\n  initial: {y: 32, scale: 0.5, zIndex: 1},\n  hidden: {opacity: 0},\n  visible: (visualDuration: number) => {\n    if (!visualDuration) return {opacity: 1}\n\n    return {\n      opacity: 1,\n      transition: {\n        when: 'beforeChildren',\n        staggerChildren: visualDuration / 3,\n        duration: visualDuration / 3,\n      },\n    }\n  },\n  slideIn: {\n    y: 0,\n    scale: 1,\n  },\n  slideOut: {\n    zIndex: 0,\n    scale: 0.75,\n  },\n} satisfies Variants\ntype ContainerVariants = keyof typeof container\n\nconst content = {\n  initial: {\n    willChange: 'transform',\n  },\n  hidden: {\n    opacity: 0,\n  },\n  visible: {\n    opacity: 1,\n  },\n} satisfies Partial<Record<ContainerVariants, Variant>>\n\nconst MotionToast = motion.create(StyledToast)\nconst MotionFlex = motion.create(Flex)\nconst MotionText = motion.create(Text)\nconst MotionLoadingBar = motion.create(LoadingBar)\nconst MotionLoadingBarProgress = motion.create(LoadingBarProgress)\n","import {useSyncExternalStore} from 'react'\n\n/**\n * Some components should only render after mounting to the DOM, and not be rendered at all during SSR renderToString or equivalent.\n * @public\n */\nexport function useMounted(): boolean {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false,\n  )\n}\n\nconst subscribe = () => () => {}\n","import {createGlobalScopedContext} from '../../lib/createGlobalScopedContext'\nimport {ToastContextValue} from './types'\n\nexport const ToastContext = createGlobalScopedContext<ToastContextValue | null>(\n  '@sanity/ui/context/toast',\n  null,\n)\n","import {styled} from 'styled-components'\n\nimport {Grid} from '../../primitives/grid'\nimport {useLayer} from '../../utils'\n\n/**\n * @public\n */\nexport interface ToastLayerProps {\n  children: React.ReactNode\n  padding?: number | number[]\n  paddingX?: number | number[]\n  paddingY?: number | number[]\n  gap?: number | number[]\n}\n\n/**\n * @internal\n */\nexport function ToastLayer(props: ToastLayerProps): React.JSX.Element {\n  const {children, padding = 4, paddingX, paddingY, gap = 3} = props\n  const {zIndex} = useLayer()\n\n  return (\n    <StyledLayer\n      forwardedAs=\"ul\"\n      data-ui=\"ToastProvider\"\n      padding={padding}\n      paddingX={paddingX}\n      paddingY={paddingY}\n      gap={gap}\n      columns={1}\n      style={{zIndex}}\n    >\n      {children}\n    </StyledLayer>\n  )\n}\n\nToastLayer.displayName = 'ToastLayer'\n\nconst StyledLayer = styled(Grid)`\n  box-sizing: border-box;\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  list-style: none;\n  pointer-events: none;\n  max-width: 420px;\n  width: 100%;\n`\n","let toastId = 0\n\n/** @internal */\nexport function generateToastId(): string {\n  return String(toastId++)\n}\n","import {AnimatePresence} from 'framer-motion'\nimport {startTransition, useMemo, useState} from 'react'\n\nimport {useMounted} from '../../hooks/useMounted'\nimport {LayerProvider} from '../../utils'\nimport {Toast} from './toast'\nimport {ToastContext} from './toastContext'\nimport {ToastLayer, type ToastLayerProps} from './toastLayer'\nimport {generateToastId} from './toastState'\nimport {ToastContextValue, ToastParams} from './types'\n\ntype ToastState = {\n  dismiss: () => void\n  id: string\n  updatedAt: number\n  params: ToastParams\n}[]\n\n/**\n * @public\n */\nexport interface ToastProviderProps extends Omit<ToastLayerProps, 'children'> {\n  children?: React.ReactNode\n  zOffset?: number | number[]\n}\n\n/**\n * @public\n */\nexport function ToastProvider(props: ToastProviderProps): React.JSX.Element {\n  const {children, padding, paddingX, paddingY, gap, zOffset = 1} = props\n  const [state, setState] = useState<ToastState>([])\n  const mounted = useMounted()\n\n  const value: ToastContextValue = useMemo(() => {\n    const push = (params: ToastParams) => {\n      const id = params.id || generateToastId()\n      const duration = params.duration || 5000\n\n      startTransition(() => {\n        setState((prevState): ToastState => {\n          /**\n           * Backwards compatibility for `sanity` patterns workaround a lack of programatically dismissible toasts.\n           * It uses a super short duration that closes the toast immediately in previous versions of `@sanity/ui`.\n           * We interpret this as a request to dismiss the toast immediately, and remove it from the state right away.\n           * Even once we support programatic dismissal we'll need to keep this for backwards compatibility with v2 and v1.\n           */\n          if (duration === 0.01) {\n            return prevState.filter((toast) => toast.id !== id)\n          }\n\n          /**\n           * Creates a function to dismiss this specific toast.\n           * This function will be passed to the Toast component\n           * and called either on close button click or after duration.\n           */\n          const dismiss = () =>\n            startTransition(() =>\n              setState((currentState) => currentState.filter((toast) => toast.id !== id)),\n            )\n\n          /**\n           * Create updated state by:\n           * 1. Removing any existing toast with the same ID (prevents duplicates)\n           * 2. Adding the new toast with its dismiss handler\n           * 3. Updates the `updatedAt` timestamp, which resets progress bar count downs.\n           */\n          return [\n            ...prevState.filter((toast) => toast.id !== id),\n            {\n              dismiss,\n              id,\n              updatedAt: Date.now(),\n              params: {...params, duration},\n            },\n          ]\n        })\n      })\n\n      return id\n    }\n\n    return {version: 0.0, push}\n  }, [])\n\n  return (\n    <ToastContext.Provider value={value}>\n      {children}\n      {mounted && (\n        <LayerProvider zOffset={zOffset}>\n          <ToastLayer padding={padding} paddingX={paddingX} paddingY={paddingY} gap={gap}>\n            <AnimatePresence initial={false} mode=\"popLayout\">\n              {state.map(({dismiss, id, params, updatedAt}) => (\n                <Toast\n                  key={id}\n                  closable={params.closable}\n                  description={params.description}\n                  onClose={dismiss}\n                  status={params.status}\n                  title={params.title}\n                  duration={params.duration}\n                  updatedAt={updatedAt}\n                />\n              ))}\n            </AnimatePresence>\n          </ToastLayer>\n        </LayerProvider>\n      )}\n    </ToastContext.Provider>\n  )\n}\n\nToastProvider.displayName = 'ToastProvider'\n","import {useContext} from 'react'\n\nimport {isRecord} from '../../lib/isRecord'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue} from './types'\n\n/**\n * @public\n */\nexport function useToast(): ToastContextValue {\n  const value = useContext(ToastContext)\n\n  if (!value) {\n    throw new Error('useToast(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useToast(): the context value is not compatible')\n  }\n\n  return value\n}\n","import {TreeState} from './types'\n\nexport function _findPrevItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement,\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(0, idx)\n  const len = els.length\n\n  for (let i = len - 1; i >= 0; i -= 1) {\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _findNextItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement,\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(idx)\n  const len = itemElements.length\n\n  for (let i = 1; i < len; i += 1) {\n    if (!els[i]) {\n      continue\n    }\n\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _focusItemElement(el: HTMLElement): void {\n  if (el.getAttribute('role') === 'treeitem') {\n    el.focus()\n  }\n\n  if (el.getAttribute('role') === 'none') {\n    const firstChild = el.firstChild\n\n    if (firstChild && firstChild instanceof HTMLElement) {\n      firstChild.focus()\n    }\n  }\n}\n","import {createGlobalScopedContext} from '../../lib/createGlobalScopedContext'\nimport {TreeContextValue} from './types'\n\n/**\n * @internal\n */\nexport const TreeContext = createGlobalScopedContext<TreeContextValue | null>(\n  '@sanity/ui/context/tree',\n  null,\n)\n","import {\n  forwardRef,\n  memo,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\n\nimport {Stack} from '../../primitives'\nimport {_findNextItemElement, _findPrevItemElement, _focusItemElement} from './helpers'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue, TreeState} from './types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TreeProps {\n  space?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Tree = memo(\n  forwardRef(function Tree(\n    props: TreeProps &\n      Omit<React.HTMLProps<HTMLDivElement>, 'align' | 'as' | 'height' | 'ref' | 'role' | 'wrap'>,\n    forwardedRef: React.ForwardedRef<HTMLDivElement>,\n  ): React.JSX.Element {\n    const {children, space = 1, onFocus, ...restProps} = props\n    const ref = useRef<HTMLDivElement | null>(null)\n    const [focusedElement, setFocusedElement] = useState<HTMLElement | null>(null)\n    const focusedElementRef = useRef(focusedElement)\n    const path: string[] = useMemo(() => [], [])\n    const [itemElements, setItemElements] = useState<HTMLElement[]>([])\n    const [state, setState] = useState<TreeState>({})\n    const stateRef = useRef(state)\n\n    useImperativeHandle<HTMLDivElement | null, HTMLDivElement | null>(\n      forwardedRef,\n      () => ref.current,\n    )\n\n    useEffect(() => {\n      focusedElementRef.current = focusedElement\n    }, [focusedElement])\n\n    useEffect(() => {\n      stateRef.current = state\n    }, [state])\n\n    const registerItem = useCallback(\n      (element: HTMLElement, path: string, expanded: boolean, selected: boolean) => {\n        setState((s) => ({...s, [path]: {element, expanded}}))\n\n        if (selected) {\n          setFocusedElement(element)\n        }\n\n        return () => {\n          setState((s) => {\n            const newState = {...s}\n\n            delete newState[path]\n\n            return newState\n          })\n        }\n      },\n      [],\n    )\n\n    const setExpanded = useCallback((path: string, expanded: boolean) => {\n      setState((s) => {\n        const itemState = s[path]\n\n        if (!itemState) return s\n\n        return {...s, [path]: {...itemState, expanded}}\n      })\n    }, [])\n\n    const contextValue: TreeContextValue = useMemo(\n      () => ({\n        version: 0.0,\n        focusedElement: focusedElement || itemElements[0] || null,\n        level: 0,\n        path,\n        registerItem,\n        setExpanded,\n        setFocusedElement,\n        space,\n        state,\n      }),\n      [focusedElement, itemElements, path, registerItem, setExpanded, space, state],\n    )\n\n    const handleKeyDown = useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (!focusedElementRef.current) return\n\n        if (event.key === 'ArrowDown') {\n          event.preventDefault()\n\n          const nextEl = _findNextItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current,\n          )\n\n          if (nextEl) {\n            _focusItemElement(nextEl)\n            setFocusedElement(nextEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowUp') {\n          event.preventDefault()\n\n          const prevEl = _findPrevItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current,\n          )\n\n          if (prevEl) {\n            _focusItemElement(prevEl)\n            setFocusedElement(prevEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowLeft') {\n          event.preventDefault()\n\n          const itemKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!itemKey) return\n\n          const itemState = stateRef.current[itemKey]\n\n          if (!itemState) return\n\n          if (itemState.expanded) {\n            setState((s) => {\n              const itemState = s[itemKey]\n\n              if (!itemState) return s\n\n              return {...s, [itemKey]: {...itemState, expanded: false}}\n            })\n          } else {\n            const itemPath = itemKey.split('/')\n\n            itemPath.pop()\n\n            const parentKey = itemPath.join('/')\n            const parentState = parentKey && stateRef.current[parentKey]\n\n            if (parentState) {\n              parentState.element.focus()\n              setFocusedElement(parentState.element)\n            }\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowRight') {\n          event.preventDefault()\n\n          const focusedKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!focusedKey) return\n\n          if (!stateRef.current[focusedKey]?.expanded) {\n            setState((s) => {\n              const itemState = s[focusedKey]\n\n              if (!itemState) return s\n\n              return {...s, [focusedKey]: {...itemState, expanded: true}}\n            })\n          }\n\n          return\n        }\n      },\n      [itemElements],\n    )\n\n    const handleFocus = useCallback(\n      (event: React.FocusEvent<HTMLDivElement>) => {\n        setFocusedElement(event.target)\n\n        // Call the element's `focus` handler\n        onFocus?.(event)\n      },\n      [onFocus],\n    )\n\n    useEffect(() => {\n      if (!ref.current) return\n      const _itemElements = Array.from(\n        ref.current.querySelectorAll('[data-ui=\"TreeItem\"]'),\n      ) as HTMLElement[]\n\n      setItemElements(_itemElements)\n    }, [children])\n\n    return (\n      <TreeContext.Provider value={contextValue}>\n        <Stack\n          as=\"ul\"\n          data-ui=\"Tree\"\n          {...restProps}\n          onFocus={handleFocus}\n          onKeyDown={handleKeyDown}\n          ref={ref}\n          role=\"tree\"\n          space={space}\n        >\n          {children}\n        </Stack>\n      </TreeContext.Provider>\n    )\n  }),\n)\nTree.displayName = 'Memo(ForwardRef(Tree))'\n","import {getTheme_v2} from '@sanity/ui/theme'\nimport {css} from 'styled-components'\n\nimport {rem, ThemeProps} from '../../styles'\nimport {_cardColorStyle} from '../../styles/card'\n\nexport function treeItemRootStyle(): ReturnType<typeof css> {\n  return css`\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      background-color: var(--card-bg-color);\n      color: var(--treeitem-fg-color);\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  `\n}\n\nexport function treeItemRootColorStyle(props: ThemeProps): ReturnType<typeof css> {\n  const $tone = 'default'\n  const {color} = getTheme_v2(props.theme)\n  const tone = color.selectable[$tone]\n\n  return css`\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ${_cardColorStyle(color, tone.enabled)}\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ${_cardColorStyle(color, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ${_cardColorStyle(color, tone.hovered)}\n        }\n\n        & > [role='treeitem']:focus {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n      }\n    }\n\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ${_cardColorStyle(color, tone.enabled)}\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ${_cardColorStyle(color, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ${_cardColorStyle(color, tone.hovered)}\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ${_cardColorStyle(color, tone.selected)}\n        }\n      }\n    }\n  `\n}\n\nexport interface TreeItemBoxStyleProps {\n  $level: number\n}\n\nexport function treeItemBoxStyle(\n  props: TreeItemBoxStyleProps & ThemeProps,\n): ReturnType<typeof css> {\n  const {$level} = props\n  const {space} = getTheme_v2(props.theme)\n\n  return css`\n    padding-left: ${rem(space[2] * $level)};\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n","import {useContext} from 'react'\n\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue} from './types'\n\n/**\n * @beta\n */\nexport function useTree(): TreeContextValue {\n  const tree = useContext(TreeContext)\n\n  if (!tree) {\n    throw new Error('Tree: missing context value')\n  }\n\n  return tree\n}\n","import {memo} from 'react'\n\nimport {Stack} from '../../primitives'\nimport {useTree} from './useTree'\n\nexport interface TreeGroupProps {\n  expanded?: boolean\n}\n\nexport const TreeGroup = memo(function TreeGroup(\n  props: TreeGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'role' | 'wrap'>,\n): React.JSX.Element {\n  const {children, expanded = false, ...restProps} = props\n  const tree = useTree()\n\n  return (\n    <Stack\n      as=\"ul\"\n      data-ui=\"TreeGroup\"\n      {...restProps}\n      hidden={!expanded}\n      marginTop={tree.space}\n      role=\"group\"\n      space={tree.space}\n    >\n      {children}\n    </Stack>\n  )\n})\n","import {ToggleArrowRightIcon} from '@sanity/icons'\nimport {ThemeFontWeightKey} from '@sanity/ui/theme'\nimport {memo, useCallback, useEffect, useId, useMemo, useRef} from 'react'\nimport {styled} from 'styled-components'\n\nimport {Box, BoxProps, Flex, Text} from '../../primitives'\nimport {\n  treeItemBoxStyle,\n  TreeItemBoxStyleProps,\n  treeItemRootColorStyle,\n  treeItemRootStyle,\n} from './style'\nimport {TreeContext} from './treeContext'\nimport {TreeGroup} from './treeGroup'\nimport {useTree} from './useTree'\n\n/**\n * @beta\n */\nexport interface TreeItemProps {\n  expanded?: boolean\n  fontSize?: number | number[]\n  icon?: React.ElementType\n  /**\n   * Allows passing a custom element type to the link component\n   */\n  linkAs?: BoxProps['as']\n  padding?: number | number[]\n  space?: number | number[]\n  text?: React.ReactNode\n  weight?: ThemeFontWeightKey\n}\n\nconst StyledTreeItem = memo(styled.li(treeItemRootStyle, treeItemRootColorStyle))\n\nconst TreeItemBox = styled(Box).attrs({forwardedAs: 'a'})<TreeItemBoxStyleProps>(treeItemBoxStyle)\n\nconst ToggleArrowText = styled(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TreeItem = memo(function TreeItem(\n  props: TreeItemProps & Omit<React.HTMLProps<HTMLLIElement>, 'as' | 'ref' | 'role'>,\n): React.JSX.Element {\n  const {\n    children,\n    expanded: expandedProp = false,\n    fontSize = 1,\n    href,\n    icon: IconComponent,\n    id: idProp,\n    linkAs,\n    muted,\n    onClick,\n    padding = 2,\n    selected = false,\n    space = 2,\n    text,\n    weight,\n    ...restProps\n  } = props\n  const rootRef = useRef<HTMLLIElement | null>(null)\n  const treeitemRef = useRef<HTMLDivElement | null>(null)\n  const tree = useTree()\n  const {path, registerItem, setExpanded, setFocusedElement} = tree\n  const _id = useId()\n  const id = idProp || _id\n  const itemPath = useMemo(() => path.concat([id || '']), [id, path])\n  const itemKey = itemPath.join('/')\n  const itemState = tree.state[itemKey]\n  // eslint-disable-next-line react-hooks/refs\n  const focused = tree.focusedElement === rootRef.current\n  const expanded = itemState?.expanded === undefined ? expandedProp : itemState?.expanded || false\n  // eslint-disable-next-line react-hooks/refs\n  const tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1\n  const contextValue = useMemo(\n    () => ({...tree, level: tree.level + 1, path: itemPath}),\n    [itemPath, tree],\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLLIElement>) => {\n      if (onClick) onClick(event)\n\n      const target = event.target\n\n      if (\n        target instanceof HTMLElement &&\n        (target.getAttribute('data-ui') === 'TreeItem' ||\n          target.closest('[data-ui=\"TreeItem__box\"]'))\n      ) {\n        event.stopPropagation()\n        setExpanded(itemKey, !expanded)\n        setFocusedElement(rootRef.current)\n      }\n    },\n    [expanded, itemKey, onClick, setExpanded, setFocusedElement],\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (focused && event.key === 'Enter') {\n        const el = treeitemRef.current || rootRef.current\n\n        el?.click()\n      }\n    },\n    [focused],\n  )\n\n  useEffect(() => {\n    if (!rootRef.current) return\n\n    return registerItem(rootRef.current, itemPath.join('/'), expanded, selected)\n  }, [expanded, itemPath, registerItem, selected])\n\n  const content = (\n    <Flex padding={padding}>\n      <Box\n        marginRight={space}\n        style={{\n          visibility: IconComponent || children ? 'visible' : 'hidden',\n          pointerEvents: 'none',\n        }}\n      >\n        {IconComponent && (\n          <Text muted={muted} size={fontSize} weight={weight}>\n            <IconComponent />\n          </Text>\n        )}\n        {!IconComponent && (\n          <ToggleArrowText muted={muted} size={fontSize} weight={weight}>\n            <ToggleArrowRightIcon style={{transform: expanded ? 'rotate(90deg)' : undefined}} />\n          </ToggleArrowText>\n        )}\n      </Box>\n      <Box flex={1}>\n        <Text muted={muted} size={fontSize} textOverflow=\"ellipsis\" weight={weight}>\n          {text}\n        </Text>\n      </Box>\n    </Flex>\n  )\n\n  if (href) {\n    return (\n      <StyledTreeItem\n        data-selected={selected ? '' : undefined}\n        data-tree-id={id}\n        data-tree-key={itemKey}\n        data-ui=\"TreeItem\"\n        {...restProps}\n        onClick={handleClick}\n        ref={rootRef}\n        role=\"none\"\n      >\n        <TreeItemBox\n          $level={tree.level}\n          aria-expanded={expanded}\n          as={linkAs}\n          data-ui=\"TreeItem__box\"\n          href={href}\n          ref={treeitemRef}\n          role=\"treeitem\"\n          tabIndex={tabIndex}\n        >\n          {content}\n        </TreeItemBox>\n\n        <TreeContext.Provider value={contextValue}>\n          {children && <TreeGroup hidden={!expanded}>{children}</TreeGroup>}\n        </TreeContext.Provider>\n      </StyledTreeItem>\n    )\n  }\n\n  return (\n    <StyledTreeItem\n      data-selected={selected ? '' : undefined}\n      data-ui=\"TreeItem\"\n      data-tree-id={id}\n      data-tree-key={itemKey}\n      {...restProps}\n      aria-expanded={expanded}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={rootRef}\n      role=\"treeitem\"\n      tabIndex={tabIndex}\n    >\n      <TreeItemBox $level={tree.level} as=\"div\" data-ui=\"TreeItem__box\">\n        {content}\n      </TreeItemBox>\n\n      <TreeContext.Provider value={contextValue}>\n        {children && <TreeGroup expanded={expanded}>{children}</TreeGroup>}\n      </TreeContext.Provider>\n    </StyledTreeItem>\n  )\n})\nTreeItem.displayName = 'Memo(TreeItem)'\n"],"names":["_raf","fn","frameId","requestAnimationFrame","cancelAnimationFrame","_raf2","innerDispose","outerDispose","_hasFocus","element","Boolean","document","activeElement","contains","isFocusable","tabIndex","getAttribute","isHTMLAnchorElement","href","rel","isHTMLInputElement","type","disabled","isHTMLButtonElement","isHTMLSelectElement","isHTMLTextAreaElement","attemptFocus","focus","focusFirstDescendant","i","childNodes","length","child","isHTMLElement","focusLastDescendant","_getElements","elementsArg","ret","el","Array","isArray","push","filter","useClickOutside","listener","t0","boundaryElement","$","_c","undefined","EMPTY_ARRAY","setElement","useState","t1","elements","setElements","elementsRef","useRef","t2","t3","prevElements","current","nextElements","includes","el_0","useEffect","t4","t5","handleWindowMouseDown","evt","target","Node","el_1","window","addEventListener","removeEventListener","useElementRect","useElementSize","_contentRect","useForwardedRef","ref","innerRef","Symbol","for","useImperativeHandle","ErrorBoundary","Component","state","error","getDerivedStateFromError","componentDidCatch","info","props","onCatch","render","message","jsx","Code","children","StyledAutocomplete","styled","div","withConfig","displayName","componentId","ListBox","Box","rotate","keyframes","AnimatedSpinnerIcon","SpinnerIcon","AutocompleteOption","id","onSelect","selected","value","setTimeout","handleClick","event","key","_isEnterToClickElement","currentTarget","handleKeyDown","autocompleteReducer","msg","activeValue","focused","query","listFocused","AUTOCOMPLETE_LISTBOX_IGNORE_KEYS","AUTOCOMPLETE_POPOVER_PLACEMENT","AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS","DEFAULT_RENDER_VALUE","option","DEFAULT_FILTER_OPTION","toLowerCase","indexOf","InnerAutocomplete","forwardRef","forwardedRef","border","customValidity","filterOption","filterOptionProp","fontSize","icon","listBox","EMPTY_RECORD","loading","onBlur","onChange","onFocus","onQueryChange","openButton","openOnFocus","options","optionsProp","padding","paddingProp","popover","prefix","radius","readOnly","relatedElements","renderOption","renderOptionProp","renderPopover","renderValue","suffix","valueProp","restProps","dispatch","useReducer","defaultRenderOption","useCallback","Card","Text","rootElementRef","resultsPopoverElementRef","inputElementRef","listBoxElementRef","listFocusedRef","valueRef","valuePropRef","popoverMouseWithinRef","listBoxId","useArrayProp","currentOption","useMemo","find","o","filteredOptions","filteredOptionsLen","activeItemId","expanded","handleRootBlur","concat","focusInside","e","handleRootFocus","listBoxElement","focusedElement","HTMLElement","handleOptionSelect","v","handleRootKeyDown","preventDefault","activeOption","activeIndex","nextActiveOption","listEl","handleInputChange","nextQuery","dispatchOpen","handleInputFocus","handlePopoverMouseEnter","handlePopoverMouseLeave","handleClearButtonClick","handleClearButtonFocus","listElement","activeItemElement","clearButton","openButtonBoxPadding","map","openButtonPadding","Math","max","openButtonProps","handleOpenClick","onClick","openButtonNode","Button","ChevronDownIcon","inputValue","input","TextInput","handleListBoxKeyDown","content","Stack","active","cloneElement","results","hidden","inputElement","onMouseEnter","onMouseLeave","Popover","jsxs","Autocomplete","StyledBreadcrumbs","ol","ExpandButton","Breadcrumbs","maxLength","separator","space","open","setOpen","expandElementRef","popoverElementRef","collapse","expand","useClickOutsideEvent","Children","toArray","isValidElement","rawItems","bb0","len","beforeLength","ceil","afterLength","floor","t6","t7","slice","t8","t9","t10","t11","t12","items","item","itemIndex","Fragment","dialogStyle","theme","color","getTheme_v2","display","backdrop","responsiveDialogPositionStyle","media","_responsive","$position","position","animationDialogStyle","$animate","css","DialogContext","createGlobalScopedContext","version","useDialog","useContext","isTargetWithinScope","portalElement","containsOrEqualsElement","StyledDialog","Layer","responsivePaddingStyle","DialogContainer","Container","DialogCardRoot","DialogLayout","Flex","DialogHeader","DialogContent","DialogFooter","DialogCard","__unstable_autoFocus","autoFocus","__unstable_hideCloseButton","hideCloseButton","contentRef","forwardedContentRef","footer","header","onClickOutside","onClose","portal","portalProp","radiusProp","scheme","shadow","shadowProp","width","widthProp","usePortal","useBoundaryElement","layer","useLayer","isTopLayer","labelId","showCloseButton","showHeader","stopPropagation","useGlobalKeyDown","event_0","target_0","CloseIcon","Dialog","dialog","useTheme_v2","_positionProp","_zOffsetProp","onActivate","cardRadius","cardShadow","zOffset","animate","cardRadiusProp","_animate","positionProp","zOffsetProp","usePrefersReducedMotion","preDivRef","postDivRef","cardRef","focusedElementRef","cardElement","handleFocus","rootClickTimeoutRef","clearTimeout","body","cardElement_0","handleRootClick","t13","Portal","DialogProvider","contextValue","MenuButton","__unstable_disableRestoreFocusOnClose","deprecated_boundaryElement","button","buttonProp","menu","menuProp","onOpen","placement","deprecated_placement","popoverScheme","deprecated_popoverScheme","popoverRadius","deprecated_popoverRadius","preventOverflow","deprecated_preventOverflow","disableRestoreFocusOnClose","deprecated_portal","shouldFocus","setShouldFocus","buttonElement","setButtonElement","menuElements","setChildMenuElements","openRef","_temp","handleButtonClick","handleMouseDown","handleButtonKeyDown","event_1","handleMenuClickOutside","handleMenuEscape","t14","event_2","relatedTarget","handleBlur","t15","handleItemClick","t16","els","els_0","_el","registerElement","t17","t18","t19","t20","t21","t22","overflow","popoverProps","t23","t24","keyframe","animation","skeletonStyle","$visible","$animated","StyledSkeleton","responsiveRadiusStyle","Skeleton","delay","animated","visible","setVisible","timeout","$size","$style","font","fontStyle","sizeIndex","sizes","height","lineHeight","ascenderHeight","descenderHeight","TextSkeleton","size","LabelSkeleton","HeadingSkeleton","CodeSkeleton","TabPanel","flex","LOADING_BAR_HEIGHT","STATUS_CARD_TONE","warning","success","BUTTON_TONE","TextBox","StyledToast","LoadingBar","LoadingBarMask","LoadingBarProgress","default","tone","enabled","bg","ROLES","LONG_ENOUGH_BUT_NOT_TOO_LONG","Toast","closable","description","duration","status","title","updatedAt","cardTone","buttonTone","role","visualDuration","bounce","transition","hasDuration","isFinite","initial","exit","verticalAlign","scaleX","ease","container","y","scale","zIndex","opacity","when","staggerChildren","slideIn","slideOut","willChange","MotionToast","motion","create","MotionFlex","MotionText","MotionLoadingBar","MotionLoadingBarProgress","useMounted","useSyncExternalStore","subscribe","_temp2","ToastContext","ToastLayer","paddingX","paddingY","gap","StyledLayer","Grid","toastId","generateToastId","String","ToastProvider","setState","mounted","params","startTransition","prevState","toast","dismiss","currentState","toast_0","toast_1","Date","now","LayerProvider","AnimatePresence","dismiss_0","id_0","params_0","useToast","Error","isRecord","_findPrevItemElement","itemElements","idx","itemKey","segments","split","pop","p","j","k","join","_findNextItemElement","_focusItemElement","firstChild","TreeContext","Tree","memo","setFocusedElement","path","setItemElements","stateRef","path_0","s","s_0","newState","registerItem","path_1","expanded_0","s_1","itemState","setExpanded","level","nextEl","prevEl","itemState_0","s_2","itemState_1","itemPath","parentKey","parentState","focusedKey","s_3","itemState_2","_itemElements","from","querySelectorAll","treeItemRootStyle","treeItemRootColorStyle","$tone","selectable","_cardColorStyle","pressed","hovered","treeItemBoxStyle","$level","rem","useTree","tree","TreeGroup","StyledTreeItem","li","TreeItemBox","attrs","forwardedAs","ToggleArrowText","TreeItem","expandedProp","IconComponent","idProp","linkAs","muted","text","weight","rootRef","treeitemRef","_id","useId","closest","click","visibility","pointerEvents","ToggleArrowRightIcon","transform"],"mappings":"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"}